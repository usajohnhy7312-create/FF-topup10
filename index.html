<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF PRO STORE - Premium Top-up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        [x-cloak] { display: none !important; }
        body { background-color: #020617; color: white; font-family: sans-serif; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body x-data="appData()" x-init="initLucide()" x-cloak>

    <template x-if="!isLoggedIn">
        <div class="min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none">
                <div class="absolute -top-[20%] -right-[20%] w-[500px] h-[500px] bg-orange-600/20 rounded-full blur-[100px]"></div>
                <div class="absolute -bottom-[20%] -left-[20%] w-[500px] h-[500px] bg-yellow-600/10 rounded-full blur-[100px]"></div>
            </div>

            <div class="w-full max-w-sm z-10">
                <div class="text-center mb-8">
                    <div class="w-28 h-28 mx-auto mb-6 relative">
                        <div class="absolute inset-0 bg-gradient-to-tr from-yellow-500 to-orange-600 rounded-full blur opacity-50 animate-pulse-slow"></div>
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Photo" class="w-full h-full rounded-full border-4 border-slate-900 bg-slate-800 relative z-10 object-cover shadow-2xl">
                    </div>
                    <h1 class="text-3xl font-black text-white tracking-tight">FF PRO STORE</h1>
                    <p class="text-slate-400 mt-2">Premium Top-up Center</p>
                </div>

                <form @submit.prevent="login()" class="space-y-4">
                    <div class="space-y-2">
                        <label class="text-xs uppercase text-slate-500 font-bold tracking-wider">Username / Email</label>
                        <input required x-model="loginForm.username" type="text" class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3.5 text-white focus:outline-none focus:border-yellow-500 transition-colors" placeholder="Enter username">
                    </div>
                    <div class="space-y-2">
                        <label class="text-xs uppercase text-slate-500 font-bold tracking-wider">Password</label>
                        <input required x-model="loginForm.password" type="password" class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3.5 text-white focus:outline-none focus:border-yellow-500 transition-colors" placeholder="••••••••">
                    </div>

                    <button type="submit" :disabled="loading" class="w-full bg-gradient-to-r from-yellow-500 to-orange-600 text-white font-bold py-4 rounded-xl shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-2 mt-6">
                        <span x-text="loading ? 'Authenticating...' : 'Sign Up / Login'"></span>
                        <i data-lucide="chevron-right" class="w-5 h-5"></i>
                    </button>
                </form>
            </div>
        </div>
    </template>

    <template x-if="isLoggedIn">
        <div class="max-w-md mx-auto min-h-screen pb-24 relative">
            <header class="sticky top-0 z-40 w-full bg-slate-900/80 backdrop-blur-md border-b border-slate-800">
                <div class="flex items-center justify-between px-4 py-3">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-orange-500 to-yellow-500 flex items-center justify-center text-white">
                            <i data-lucide="user" class="w-5 h-5"></i>
                        </div>
                        <div>
                            <h2 class="text-sm font-bold text-white leading-none" x-text="user.username"></h2>
                            <p class="text-xs text-slate-400 leading-none mt-1">ID: <span x-text="user.uid"></span></p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="flex items-center gap-1 bg-slate-800 px-3 py-1.5 rounded-full border border-slate-700">
                            <i data-lucide="wallet" class="w-4 h-4 text-emerald-400"></i>
                            <span class="text-sm font-bold text-white">₹<span x-text="user.balance"></span></span>
                        </div>
                        <button @click="logout()" class="p-2 text-slate-400"><i data-lucide="log-out" class="w-5 h-5"></i></button>
                    </div>
                </div>
            </header>

            <main class="p-4">
                <div x-show="activeTab === 'topup'">
                    <div x-show="purchaseStep === 'list'">
                        <h2 class="text-xl font-bold mb-4">Instant Top-up</h2>
                        <div class="grid grid-cols-2 gap-3">
                            <template x-for="pack in diamondPacks" :key="pack.id">
                                <div @click="selectPack(pack)" class="bg-slate-900 border border-slate-800 rounded-2xl p-4 flex flex-col items-center gap-3 cursor-pointer hover:border-yellow-500/50 hover:bg-slate-800 transition-all active:scale-95">
                                    <i data-lucide="gem" class="w-10 h-10 text-cyan-400"></i>
                                    <div class="text-center">
                                        <div class="text-lg font-black leading-tight" x-text="pack.amount"></div>
                                        <div class="text-[10px] text-yellow-400" x-text="pack.bonus > 0 ? `+${pack.bonus} Bonus` : 'Best Value'"></div>
                                    </div>
                                    <div class="w-full text-center">
                                        <span class="text-sm font-bold">₹<span x-text="pack.price"></span></span>
                                        <button class="mt-2 w-full py-1.5 bg-yellow-500 text-black rounded-lg text-xs font-bold">BUY NOW</button>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>

                    <div x-show="purchaseStep === 'confirm'" class="min-h-[60vh] flex flex-col">
                        <button @click="purchaseStep = 'list'" class="flex items-center text-slate-400 mb-4"><i data-lucide="arrow-left" class="w-5 h-5 mr-1"></i> Back</button>
                        <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 mb-6">
                            <div class="flex justify-between items-center mb-4 pb-4 border-b border-slate-800">
                                <span class="text-slate-400">Item</span>
                                <span class="font-bold" x-text="selectedPack?.amount"></span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-400">Total</span>
                                <span class="font-bold text-yellow-500">₹<span x-text="selectedPack?.price"></span></span>
                            </div>
                        </div>
                        <input type="text" x-model="uidInput" placeholder="Enter Player UID" class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-4 text-white text-lg focus:border-yellow-500 outline-none">
                        <button @click="submitOrder()" :disabled="!uidInput || user.balance < selectedPack?.price" class="w-full bg-yellow-500 text-black font-black py-4 rounded-xl mt-6 disabled:opacity-50">CONFIRM PURCHASE</button>
                    </div>

                    <div x-show="purchaseStep === 'success'" class="text-center py-20">
                        <div class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6"><i data-lucide="check" class="text-green-500 w-10 h-10"></i></div>
                        <h2 class="text-2xl font-bold">ORDER SUBMITTED</h2>
                        <p class="text-slate-400 mt-2">Processing your request...</p>
                        <button @click="resetPurchase()" class="mt-8 text-yellow-500 underline">Back to Store</button>
                    </div>
                </div>

                <div x-show="activeTab === 'deposit'">
                    <div x-show="depositStep === 'select'">
                        <h2 class="text-xl font-bold mb-4">Add Funds</h2>
                        <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 text-center">
                            <input type="number" x-model="depositAmount" class="bg-transparent text-4xl font-bold text-white w-full text-center focus:outline-none mb-6" placeholder="₹0">
                            <button @click="depositStep = 'payment'" class="w-full bg-emerald-500 text-white py-4 rounded-xl font-bold">Continue</button>
                        </div>
                    </div>
                    <div x-show="depositStep === 'payment'" class="text-center">
                         <div class="bg-white p-4 rounded-xl inline-block mb-6">
                            <img :src="`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=Rajeshff0@ybl&am=${depositAmount}`">
                        </div>
                        <p class="mb-4">Scan & Pay ₹<span x-text="depositAmount"></span></p>
                        <input type="text" x-model="utr" placeholder="Enter Transaction UTR" class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-4 mb-4 outline-none">
                        <button @click="submitDeposit()" class="w-full bg-yellow-500 text-black font-bold py-4 rounded-xl">Submit UTR</button>
                    </div>
                </div>

                <div x-show="activeTab === 'history'">
                    <h2 class="text-xl font-bold mb-4">Transactions</h2>
                    <div class="space-y-3">
                        <template x-for="txn in user.transactions" :key="txn.date">
                            <div class="bg-slate-900 p-4 rounded-xl flex justify-between">
                                <div>
                                    <p class="font-bold text-sm" x-text="txn.desc"></p>
                                    <p class="text-xs text-slate-500" x-text="txn.status"></p>
                                </div>
                                <p class="font-bold" :class="txn.type === 'deposit' ? 'text-emerald-400' : 'text-red-400'" x-text="(txn.type === 'deposit' ? '+' : '-') + ' ₹' + txn.amount"></p>
                            </div>
                        </template>
                    </div>
                </div>
            </main>

            <div class="fixed bottom-0 w-full bg-slate-900 border-t border-slate-800 flex justify-around py-3">
                <button @click="activeTab = 'topup'" :class="activeTab === 'topup' ? 'text-yellow-500' : 'text-slate-500'"><i data-lucide="gem"></i></button>
                <button @click="activeTab = 'deposit'" :class="activeTab === 'deposit' ? 'text-yellow-500' : 'text-slate-500'"><i data-lucide="wallet"></i></button>
                <button @click="activeTab = 'history'" :class="activeTab === 'history' ? 'text-yellow-500' : 'text-slate-500'"><i data-lucide="history"></i></button>
                <a href="https://t.me/Rajeshff0" target="_blank" class="text-slate-500 hover:text-blue-400"><i data-lucide="headset"></i></a>
            </div>
        </div>
    </template>

    <script>
        function appData() {
            return {
                isLoggedIn: false,
                loading: false,
                activeTab: 'topup',
                purchaseStep: 'list',
                depositStep: 'select',
                loginForm: { username: '', password: '' },
                user: { username: 'Guest', uid: '102938', balance: 0, transactions: [] },
                diamondPacks: [
                    { id: 1, amount: '100 Gems', price: 80, bonus: 10 },
                    { id: 2, amount: '310 Gems', price: 240, bonus: 30 },
                    { id: 3, amount: '520 Gems', price: 400, bonus: 50 },
                    { id: 4, amount: '1060 Gems', price: 800, bonus: 120 }
                ],
                selectedPack: null,
                uidInput: '',
                depositAmount: 100,
                utr: '',

                initLucide() {
                    lucide.createIcons();
                },
                login() {
                    this.loading = true;
                    setTimeout(() => {
                        this.isLoggedIn = true;
                        this.user.username = this.loginForm.username;
                        this.loading = false;
                        setTimeout(() => this.initLucide(), 100);
                    }, 1000);
                },
                selectPack(pack) {
                    this.selectedPack = pack;
                    this.purchaseStep = 'confirm';
                    setTimeout(() => this.initLucide(), 50);
                },
                submitOrder() {
                    this.user.balance -= this.selectedPack.price;
                    this.user.transactions.push({
                        desc: `Purchase ${this.selectedPack.amount}`,
                        amount: this.selectedPack.price,
                        type: 'buy',
                        status: 'Pending',
                        date: new Date()
                    });
                    this.purchaseStep = 'success';
                    setTimeout(() => this.initLucide(), 50);
                },
                submitDeposit() {
                    this.user.transactions.push({
                        desc: 'Deposit Wallet',
                        amount: this.depositAmount,
                        type: 'deposit',
                        status: 'Processing',
                        date: new Date()
                    });
                    alert('Deposit request submitted! Waiting for verification.');
                    this.depositStep = 'select';
                },
                resetPurchase() {
                    this.purchaseStep = 'list';
                    this.selectedPack = null;
                    this.uidInput = '';
                    setTimeout(() => this.initLucide(), 50);
                },
                logout() {
                    this.isLoggedIn = false;
                }
            }
        }
    </script>
</body>
</html>
